{"ast":null,"code":"var _jsxFileName = \"/Users/vladsh/TOP/repos/instagram-react12/src/components/shared/Navbar.js\";\nimport { AppBar, Avatar, Grid, Hidden, InputBase, Typography } from \"@material-ui/core\";\nimport React from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useNavbarStyles, WhiteTooltip, RedTooltip } from \"../../styles\";\nimport logo from \"../../images/logo.png\";\nimport { LoadingIcon, AddIcon, LikeIcon, LikeActiveIcon, ExploreIcon, ExploreActiveIcon, HomeActiveIcon, HomeIcon } from \"../../icons\";\nimport { defaultCurrentUser, getDefaultUser } from \"../../data\";\nimport NotificationTooltip from \"../notification/NotificationTooltip\";\nimport NotificationList from \"../notification/NotificationList\";\nimport { useNProgress } from \"@tanem/react-nprogress\";\n\nfunction Navbar({\n  minimalNavbar\n}) {\n  const classes = useNavbarStyles();\n  const history = useHistory();\n  const [isLoadingPage, setLoadingPage] = React.useState(true);\n  const path = history.location.pathname;\n  React.useEffect(() => {\n    setLoadingPage(false);\n  }, [path]);\n  return React.createElement(React.Fragment, null, React.createElement(Progress, {\n    isAnimating: isLoadingPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }), React.createElement(AppBar, {\n    sx: {\n      backgroundColor: \"#ffffff !important\",\n      color: \"#000000\",\n      display: \"flex\",\n      alignItems: \"center\",\n      order: 0,\n      zIndex: \"100 !important\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    className: classes.section,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(Logo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), !minimalNavbar && React.createElement(React.Fragment, null, React.createElement(Search, {\n    history: history,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), React.createElement(Links, {\n    path: path,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), \" \"))));\n}\n\nconst Logo = () => {\n  const classes = useNavbarStyles();\n  return React.createElement(\"div\", {\n    className: classes.logoContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.logoWrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: logo,\n    alt: \"Instagram\",\n    className: classes.logo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }))));\n};\n\nfunction Search({\n  history\n}) {\n  const classes = useNavbarStyles();\n  const [loading, setLoading] = React.useState(false);\n  const [results, setResults] = React.useState([]);\n  const [query, setQuery] = React.useState(\"\");\n  const hasResults = Boolean(query) && results.length > 0; // let loading = true;\n\n  React.useEffect(() => {\n    if (!query.trim()) return;\n    setResults(Array.from({\n      length: 5\n    }, () => getDefaultUser()));\n  }, [query]);\n\n  const handleClearInput = () => {\n    setQuery(\"\");\n  };\n\n  return React.createElement(Hidden, {\n    xsDown: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(WhiteTooltip, {\n    arrow: true,\n    interactive: true,\n    open: hasResults,\n    title: hasResults && React.createElement(Grid, {\n      className: classes.resultContainer,\n      container: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, results.map(result => React.createElement(Grid, {\n      key: result.id,\n      item: true,\n      className: classes.resultLink,\n      onClick: () => {\n        history.push(`/${result.username}`);\n        handleClearInput();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.resultWrapper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.avatarWrapper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(Avatar, {\n      src: result.profile_image,\n      alt: \"user avatar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: classes.nameWrapper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"body1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, result.username), React.createElement(Typography, {\n      variant: \"body2\",\n      color: \"textSecondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, result.name)))))),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(React.Fragment, null, React.createElement(InputBase, {\n    className: classes.input,\n    onChange: event => setQuery(event.target.value),\n    startAdornment: React.createElement(\"span\", {\n      className: classes.searchIcon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }),\n    endAdornment: loading ? React.createElement(LoadingIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }) : React.createElement(\"span\", {\n      onClick: handleClearInput,\n      className: classes.clearIcon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }),\n    placeholder: \"Search\",\n    value: query,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }), \" \"))); // return <div>search</div>;\n}\n\nfunction Links({\n  path\n}) {\n  const classes = useNavbarStyles();\n  const [showTooltip, setTooltip] = React.useState(true);\n  const [showList, setList] = React.useState(false);\n  React.useEffect(() => {\n    const timeout = setTimeout(handleHideTooltip, 5000);\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, []);\n\n  const handleToggleList = () => {\n    setList(prev => !prev);\n  };\n\n  const handleHideTooltip = () => {\n    setTooltip(false);\n  };\n\n  const handleHideList = () => {\n    setList(false);\n  };\n\n  return React.createElement(\"div\", {\n    className: classes.linksContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, showList && React.createElement(NotificationList, {\n    handleHideList: handleHideList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: classes.linksWrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }, React.createElement(Hidden, {\n    xsDown: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, React.createElement(AddIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  })), React.createElement(Link, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, path === \"/\" ? React.createElement(HomeActiveIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }) : React.createElement(HomeIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  })), React.createElement(Link, {\n    to: \"/explore\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, path === \"/explore\" ? React.createElement(ExploreActiveIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }) : React.createElement(ExploreIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  })), React.createElement(RedTooltip, {\n    arrow: true,\n    open: showTooltip,\n    onOpen: handleHideTooltip,\n    title: React.createElement(NotificationTooltip, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: classes.notifications,\n    onClick: handleToggleList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, showList ? React.createElement(LikeActiveIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }) : React.createElement(LikeIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  })))), React.createElement(Link, {\n    to: `/${defaultCurrentUser.username}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: path === `/${defaultCurrentUser.username}` ? classes.profileActive : \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }), React.createElement(Avatar, {\n    src: defaultCurrentUser.profile_image,\n    className: classes.profileImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }))));\n}\n\nfunction Progress({\n  isAnimating\n}) {\n  const classes = useNavbarStyles();\n  const {\n    animationDuration,\n    isFinished,\n    progress\n  } = useNProgress({\n    isAnimating\n  });\n  return React.createElement(\"div\", {\n    className: classes.progressContainer,\n    style: {\n      opacity: isFinished ? 0 : 1,\n      transition: `opacity ${animationDuration}ms linear`\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.progressBar,\n    style: {\n      marginLeft: `${(-1 + progress) * 100}%`,\n      transition: `margin-left ${animationDuration}ms linear`\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.progressBackground,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230\n    },\n    __self: this\n  })));\n}\n\nexport default Navbar;","map":{"version":3,"sources":["/Users/vladsh/TOP/repos/instagram-react12/src/components/shared/Navbar.js"],"names":["AppBar","Avatar","Grid","Hidden","InputBase","Typography","React","Link","useHistory","useNavbarStyles","WhiteTooltip","RedTooltip","logo","LoadingIcon","AddIcon","LikeIcon","LikeActiveIcon","ExploreIcon","ExploreActiveIcon","HomeActiveIcon","HomeIcon","defaultCurrentUser","getDefaultUser","NotificationTooltip","NotificationList","useNProgress","Navbar","minimalNavbar","classes","history","isLoadingPage","setLoadingPage","useState","path","location","pathname","useEffect","backgroundColor","color","display","alignItems","order","zIndex","section","Logo","logoContainer","logoWrapper","Search","loading","setLoading","results","setResults","query","setQuery","hasResults","Boolean","length","trim","Array","from","handleClearInput","resultContainer","map","result","id","resultLink","push","username","resultWrapper","avatarWrapper","profile_image","nameWrapper","name","input","event","target","value","searchIcon","clearIcon","Links","showTooltip","setTooltip","showList","setList","timeout","setTimeout","handleHideTooltip","clearTimeout","handleToggleList","prev","handleHideList","linksContainer","linksWrapper","notifications","profileActive","profileImage","Progress","isAnimating","animationDuration","isFinished","progress","progressContainer","opacity","transition","progressBar","marginLeft","progressBackground"],"mappings":"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","sourcesContent":["import {\n  AppBar,\n  Avatar,\n  Grid,\n  Hidden,\n  InputBase,\n  Typography,\n} from \"@material-ui/core\";\nimport React from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useNavbarStyles, WhiteTooltip, RedTooltip } from \"../../styles\";\nimport logo from \"../../images/logo.png\";\nimport {\n  LoadingIcon,\n  AddIcon,\n  LikeIcon,\n  LikeActiveIcon,\n  ExploreIcon,\n  ExploreActiveIcon,\n  HomeActiveIcon,\n  HomeIcon,\n} from \"../../icons\";\nimport { defaultCurrentUser, getDefaultUser } from \"../../data\";\nimport NotificationTooltip from \"../notification/NotificationTooltip\";\nimport NotificationList from \"../notification/NotificationList\";\nimport { useNProgress } from \"@tanem/react-nprogress\";\n\nfunction Navbar({ minimalNavbar }) {\n  const classes = useNavbarStyles();\n  const history = useHistory();\n  const [isLoadingPage, setLoadingPage] = React.useState(true);\n  const path = history.location.pathname;\n\n  React.useEffect(() => {\n    setLoadingPage(false);\n  }, [path]);\n  return (\n    <>\n      <Progress isAnimating={isLoadingPage} />\n      <AppBar\n        sx={{\n          backgroundColor: \"#ffffff !important\",\n          color: \"#000000\",\n          display: \"flex\",\n          alignItems: \"center\",\n          order: 0,\n          zIndex: \"100 !important\",\n        }}\n      >\n        <section className={classes.section}>\n          <Logo />\n          {!minimalNavbar && (\n            <>\n              <Search history={history} />\n              <Links path={path} />{\" \"}\n            </>\n          )}\n        </section>\n      </AppBar>\n    </>\n  );\n}\nconst Logo = () => {\n  const classes = useNavbarStyles();\n  return (\n    <div className={classes.logoContainer}>\n      <Link to=\"/\">\n        <div className={classes.logoWrapper}>\n          <img src={logo} alt=\"Instagram\" className={classes.logo} />\n        </div>\n      </Link>\n    </div>\n  );\n};\nfunction Search({ history }) {\n  const classes = useNavbarStyles();\n  const [loading, setLoading] = React.useState(false);\n  const [results, setResults] = React.useState([]);\n  const [query, setQuery] = React.useState(\"\");\n  const hasResults = Boolean(query) && results.length > 0;\n  // let loading = true;\n  React.useEffect(() => {\n    if (!query.trim()) return;\n    setResults(Array.from({ length: 5 }, () => getDefaultUser()));\n  }, [query]);\n  const handleClearInput = () => {\n    setQuery(\"\");\n  };\n  return (\n    <Hidden xsDown>\n      <WhiteTooltip\n        arrow\n        interactive\n        open={hasResults}\n        title={\n          hasResults && (\n            <Grid className={classes.resultContainer} container>\n              {results.map((result) => (\n                <Grid\n                  key={result.id}\n                  item\n                  className={classes.resultLink}\n                  onClick={() => {\n                    history.push(`/${result.username}`);\n                    handleClearInput();\n                  }}\n                >\n                  <div className={classes.resultWrapper}>\n                    <div className={classes.avatarWrapper}>\n                      <Avatar src={result.profile_image} alt=\"user avatar\" />\n                    </div>\n                    <div className={classes.nameWrapper}>\n                      <Typography variant=\"body1\">{result.username}</Typography>\n                      <Typography variant=\"body2\" color=\"textSecondary\">\n                        {result.name}\n                      </Typography>\n                    </div>\n                  </div>\n                </Grid>\n              ))}\n            </Grid>\n          )\n        }\n      >\n        <>\n          <InputBase\n            className={classes.input}\n            onChange={(event) => setQuery(event.target.value)}\n            startAdornment={<span className={classes.searchIcon} />}\n            endAdornment={\n              loading ? (\n                <LoadingIcon />\n              ) : (\n                <span\n                  onClick={handleClearInput}\n                  className={classes.clearIcon}\n                />\n              )\n            }\n            placeholder=\"Search\"\n            value={query}\n          />{\" \"}\n        </>\n      </WhiteTooltip>\n    </Hidden>\n  );\n  // return <div>search</div>;\n}\nfunction Links({ path }) {\n  const classes = useNavbarStyles();\n  const [showTooltip, setTooltip] = React.useState(true);\n  const [showList, setList] = React.useState(false);\n  React.useEffect(() => {\n    const timeout = setTimeout(handleHideTooltip, 5000);\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, []);\n  const handleToggleList = () => {\n    setList((prev) => !prev);\n  };\n  const handleHideTooltip = () => {\n    setTooltip(false);\n  };\n\n  const handleHideList = () => {\n    setList(false);\n  };\n  return (\n    <div className={classes.linksContainer}>\n      {showList && <NotificationList handleHideList={handleHideList} />}\n      <div className={classes.linksWrapper}>\n        <Hidden xsDown>\n          <AddIcon />\n        </Hidden>\n        <Link to=\"/\">{path === \"/\" ? <HomeActiveIcon /> : <HomeIcon />}</Link>\n        <Link to=\"/explore\">\n          {path === \"/explore\" ? <ExploreActiveIcon /> : <ExploreIcon />}\n        </Link>\n        <RedTooltip\n          arrow\n          open={showTooltip}\n          onOpen={handleHideTooltip}\n          title={<NotificationTooltip />}\n        >\n          <>\n            <div className={classes.notifications} onClick={handleToggleList}>\n              {showList ? <LikeActiveIcon /> : <LikeIcon />}\n            </div>\n          </>\n        </RedTooltip>\n\n        <Link to={`/${defaultCurrentUser.username}`}>\n          <div\n            className={\n              path === `/${defaultCurrentUser.username}`\n                ? classes.profileActive\n                : \"\"\n            }\n          ></div>\n          <Avatar\n            src={defaultCurrentUser.profile_image}\n            className={classes.profileImage}\n          />\n        </Link>\n      </div>\n    </div>\n  );\n}\nfunction Progress({ isAnimating }) {\n  const classes = useNavbarStyles();\n  const { animationDuration, isFinished, progress } = useNProgress({\n    isAnimating,\n  });\n  return (\n    <div\n      className={classes.progressContainer}\n      style={{\n        opacity: isFinished ? 0 : 1,\n        transition: `opacity ${animationDuration}ms linear`,\n      }}\n    >\n      <div\n        className={classes.progressBar}\n        style={{\n          marginLeft: `${(-1 + progress) * 100}%`,\n          transition: `margin-left ${animationDuration}ms linear`,\n        }}\n      >\n        <div className={classes.progressBackground} />\n      </div>\n    </div>\n  );\n}\nexport default Navbar;\n"]},"metadata":{},"sourceType":"module"}